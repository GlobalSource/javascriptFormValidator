var firstErrorHit=!1,jsValidator={formData:!1,onlyFilter:!1,jsForm:!1,jsSettings:!1,jsFormError:!1,formErrorList:{},forceFilter:!1,initialLoad:!0,option:!1,onChange:!1,init:function(a){return jsLogger.table(a),this.option=a,this.onlyFilter=a.onlyFilter,this.onChange=a.onChange,this.jsSettings=jsSettings.init(a),this.jsForm=jsForm.init(a),this.jsFormError=jsFormError.init(),this.forceFilter=a.forceFilter,this.check(),this.submitListener(this.jsForm.formCore,this),this},submitListener:function(a,b){!1!==this.onlyFilter&&void 0!==this.onlyFilter||document.querySelector("#"+a).addEventListener("submit",function(a){!1===b.check()&&a.preventDefault()})},update:function(){var a=this.option;this.onlyFilter=a.onlyFilter,this.jsSettings=jsSettings.init(a),this.jsForm=jsForm.init(a),this.jsFormError=jsFormError.init()},check:function(){var a=!1,b=this.jsForm,c=this.formErrorList,d=[];return c.input=this.elemLoop("input",b.input),c.textArea=this.elemLoop("textArea",b.textArea),c.select=this.elemLoop("select",b.select),jsLogger.out("Error List",this.formErrorList),d.push({errorElem:c}),0===c.input.length&&0===c.textArea.length&&0===c.select.length&&(alert("Form Valid !"),a=!0),0==this.initialLoad&&validationResponse.init(c,this.option),this.initialLoad=!1,a},elemLoop:function(a,b){var c=[];if(null===b||void 0===b)return!1;for(var d in b)if(b[d]){var e=b[d];this.applyFilters(e),1==this.onChange&&this.applyGlobalListener(e),jsLogger.out("Only Filter",this.onlyFilter),!1!==this.onlyFilter&&void 0!==this.onlyFilter||(c=jsRuleSets.checkValidation(e,c))}return c},applyFilters:function(a){"number"==a.type&&jsFilter.number(a),"email"==a.type&&jsFilter.email(a),a.getAttribute("data-allow")&&jsFilter.string(a),a.getAttribute("pattern")&&jsFilter.pattern(a)},applyGlobalListener:function(a){a.addEventListener("change",this.quickValidation,!1)},quickValidation:function(a){jsLogger.out("Quick",a);var b=[],c=a.target;b=jsRuleSets.checkValidation(c,b),jsLogger.out("Quick Out",b),validationResponse.process(b)},validate:function(){return this.check()}},jsFilter={number:function(a){var b=!0;!1===this.forceFilter&&(b=!1,!0===a.required&&(b=!0)),!0===b&&a.addEventListener("keypress",this.isNumberKey,!1)},string:function(a){var b=a.getAttribute("data-allow"),c=this,d=!0;switch(!1===this.forceFilter&&(d=!1,!0===a.required&&(d=!0)),b){case"onlyAlpha":!0===d&&a.addEventListener("keypress",c.isAlpha,!1);break;case"string":!0===d&&a.addEventListener("keypress",c.isAlphaNumeric,!1);break;default:!0===d&&a.addEventListener("keypress",c.isPatternValid,!1)}},pattern:function(a){var b=this,c=!0;!1===this.forceFilter&&(c=!1,!0===a.required&&(c=!0)),!0===c&&a.addEventListener("keypress",b.isPatternValid,!1)},email:function(a){var b=!0;!1===this.forceFilter&&(b=!1,!0===a.required&&(b=!0)),!0===b&&a.addEventListener("keypress",jsRuleSets.email,!1)},limit:function(a){var b=!0;!1===this.forceFilter&&(b=!1,!0===a.required&&(b=!0)),!0===b&&a.addEventListener("keypress",this.isInLimit,!1)},isInLimit:function(a){var b=a.target.value;if(!0===helper.isWindowAction(a))return!0;var c=a.target.min,d=a.target.max;c||(c=0),d||(d=54);var e=new RegExp("^[0-9]+$"),f=String.fromCharCode(a.charCode?a.charCode:a.which);jsLogger.out("Limit",e.test(f)+" | min |"+c+" | max | "+d),jsLogger.out("Regex",e.test(f)),(!1===e.test(f)||parseInt(b)>d||parseInt(b)<c)&&a.preventDefault(),a.target.value=a.target.value.substring(0,a.target.value.length-1)},isAlpha:function(a){if(!0===helper.isWindowAction(a))return!0;!1===pattern.validate(a,"a-zA-Z")&&a.preventDefault()},isAlphaNumeric:function(a){if(!0===helper.isWindowAction(a))return!0;!1===pattern.validate(a,"a-zA-Z0-9")&&a.preventDefault()},isValidPassword:function(a){return 32===(a.which?a.which:a.keyCode)?(a.preventDefault(),!1):!0===helper.isWindowAction(a)||void(!1===pattern.validate(a,"a-zA-Z0-9")&&a.preventDefault())},isPatternValid:function(a){if(!0===helper.isWindowAction(a))return!0;!1===pattern.validate(a,"a-zA-Z0-4")&&a.preventDefault()},isNumberKey:function(a){if(!0===helper.isWindowAction(a))return!0;var b=a.which?a.which:a.keyCode;return!(46===b||b>31&&(b<48||b>57))||(a.preventDefault(),!1)}},jsSettings={errorColor:!1,errorTemplate:!1,init:function(a){return this.errorColor=a.errorColor,this.errorTemplate=a.errorTemplate,this},log:function(){jsLogger.out(this.errorColor),jsLogger.out(this.followedElement),jsLogger.out(this.errorTemplate)}},jsForm={form:!1,formCore:!1,input:!1,select:!1,textArea:!1,label:!1,forceFilter:!1,init:function(a){return jsLogger.out("Form",a.form),this.options=a,this.forceFilter=a.forceFilter,this.registerForm(a.form),this.parseForm(this.form),this.required(),this},registerForm:function(a){if(void 0===a&&jsLogger.out("Form Identification","Form Identification is Missing !"),null===a)return!1;this.form=document.getElementById(a),null===this.form&&jsLogger.out("Status 503","Failed to Proceed !"),this.formCore=a},parseForm:function(a){if(null===a)return!1;this.input=a.getElementsByTagName("input"),this.select=a.getElementsByTagName("select"),this.textArea=a.getElementsByTagName("textarea"),this.label=a.getElementsByTagName("label")},required:function(){var a=this.forceFilter;this.input=jsField.required(this.input,a),this.select=jsField.required(this.select,a),this.textArea=jsField.required(this.textArea,a)},log:function(){jsLogger.out("Form",this.form),jsLogger.out("input",this.input),jsLogger.out("select",this.select),jsLogger.out("textarea",this.textArea),jsLogger.out("labels",this.label)}},jsField={required:function(a,b){for(var c=[],d=0;d<a.length;d++)!0!==a[d].required&&!0!==b||c.push(a[d]);return c}},jsRuleSets={checkValidation:function(a,b){jsLogger.out("Active Elem",a);var c=!0;if(jsRuleSets.isSet(a)||(b.push({el:a,type:"required",id:a.name+Math.random().toString(36).substring(2)}),0==firstErrorHit&&(firstErrorHit=a)),a.min&&jsRuleSets.isSet(a)&&(jsRuleSets.min(a)||(b.push({el:a,type:"min",id:a.name+Math.random().toString(36).substring(2)}),0==firstErrorHit&&(firstErrorHit=a),c=!1)),a.max&&jsRuleSets.isSet(a)&&(jsRuleSets.max(a)||(b.push({el:a,type:"max",id:a.name+Math.random().toString(36).substring(2)}),0==firstErrorHit&&(firstErrorHit=a),c=!1)),"email"==a.type&&jsRuleSets.isSet(a)&&(jsRuleSets.email(a)||(b.push({el:a,type:"email",id:a.name+Math.random().toString(36).substring(2)}),0==firstErrorHit&&(firstErrorHit=a),c=!1)),"password"==a.type&&jsRuleSets.isSet(a)&&(jsRuleSets.compare(a)||(b.push({el:a,type:"password",id:a.name+Math.random().toString(36).substring(2)}),0==firstErrorHit&&(firstErrorHit=a),c=!1)),!0===c&&(jsLogger.out("Valid Elem",a),""!==a.name)){var d=document.getElementById(a.name);void 0!==d&&null!==d&&(d.innerHTML="")}return!1!==firstErrorHit&&(jsLogger.out("First Hit ",firstErrorHit),helper.scrollToItem(firstErrorHit)),b},isSet:function(a){if(!1===a.required)return!0;var b=!0,c=a.value;return 0!=c.length&&""!=c&&" "!=c||(b=!1),b},min:function(a){if(!1===a.required)return!0;var b=!0,c=a.value,d=a.min;return c.length<d&&0!=c.length&&(b=!1),b},max:function(a){if(!1===a.required)return!0;var b=!0,c=a.value,d=a.max;return c.length>d&&0!=c.length&&(b=!1),b},email:function(a){if(!1===a.required)return!0;var b=!1,c=a.value;return c=c.toString(),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(c)&&(b=!0),c||(b=!1),b},phone:function(a,b){if(!1===a.required)return!0;var c=!0;return""===a.value&&(c=!1),c},compare:function(a){var b=!1;!1===a.required&&(b=!0);var c=a.getAttribute("data-check");if(void 0!==c&&null!=c||(b=!1),null===c&&(c=a.getAttribute("data-parent")),null===c)b=!1;else{c=c.toString();var d=document.getElementById(c);a.value===d.value&&(b=!0)}return jsLogger.out("Compare Status",b),b}},jsFormError={errorHit:!1,errorCss:!1,successCss:!1,init:function(){this.errorHit=!1,this.errorCss="border-color: red;border-radius: 5px;color: red;",this.successCss="border-color: green;border-radius: 5px;color: green;"},log:function(){jsLogger.out("Form Error Hit",this.errorHit)},style:function(a){this.errorCss=a.error,this.successCss=a.success}},jsLogger={out:function(a,b){console.log("======"+a+"======"),console.log(b),console.log("------------------------")},bulk:function(a){console.log(a)},table:function(a){console.table(a)}},helper={isWindowAction:function(a){var b=a||window.event,c=b.shiftKey||b.which;return 9===c||0===c||8===c||32===c||13===c||8===c||c>=35&&c<=40||(c=String.fromCharCode(c),0===c.length)},scrollToItem:function(a){var b=a.nodeName;if(!b)return!1;if(null==b)return!1;a=document.getElementsByName(b);var c=(a.offsetTop-window.scrollY)/20;window._lastDiff||(window._lastDiff=0),Math.abs(c)>2?(window.scrollTo(0,window.scrollY+c),clearTimeout(window._TO),c!==window._lastDiff&&(window._lastDiff=c,window._TO=setTimeout(this.scrollToItem,100,a))):window.scrollTo(0,a.offsetTop)}},pattern={getDefault:function(a,b){void 0===b&&(b="");var c=a.target.getAttribute("data-allowSpecial"),d=a.target.pattern;console.log(d.length);return c||null!==c||(c=""),c=c.toString(),""!==d&&d.length>0&&null!==d?d:"^["+b+c+"]+$"},validate:function(a,b){var c=this.getDefault(a,b),d=new RegExp(c),e=String.fromCharCode(a.charCode?a.charCode:a.which);return d.test(e)}},validationResponse={init:function(a,b){this.errorMessage=b.message,this.input(a.input),this.select(a.select),this.textArea(a.textArea)},input:function(a){this.process(a)},select:function(a){this.process(a)},textArea:function(a){this.process(a)},process:function(a){var b="";for(var c in a)if(a[c].el&&!0===a[c].el.required){var d=a[c],e=a[c].type;b=this.template(d,e);var f=document.getElementById(d.id);void 0===f||"undefined"===f||null===f?(f=document.createElement("span"),f.setAttribute("id",d.id),f.innerHTML=b):f.innerHTML=b,d.el.parentNode.insertBefore(f,d.el.nextSibling)}},template:function(a,b){jsLogger.out("error Type 0",b);var c="",d="",e=a.el.getAttribute("data-message");return void 0!==e&&""!==e&&null!==e||(void 0!==this.errorMessage&&void 0!==this.errorMessage[b]?(b=this.errorMessage[b],a.el.getAttribute("data-message"),b&&(jsLogger.out("errorType",b),d=b,"min"!=a.type&&"max"!=a.type||("min"==a.type&&(c=a.el.min),"max"==a.type&&(c=a.el.max),d=d.replace("[INDEX]",c)))):d=this.default(b),e=d),e},default:function(a){var b={required:"This field is required",min:"This field length is too low.",max:"This field length is exceeds the limit",password:"Password does not match.",email:"Email is not valid"};return"string"==typeof a&&(void 0!==b[a]&&b[a])}};